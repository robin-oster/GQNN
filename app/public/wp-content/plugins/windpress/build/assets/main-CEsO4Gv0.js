import{l as c}from"./logger-BTW-zIW3.js";import{settingsState as p}from"./constant-ClLhar2j.js";import"./virtualRef-CgRKHaPH.js";import"./index-l5GBeiGs.min.js";import"./isObject-K1YoVIH1.min.js";import"./runtime-core.esm-bundler-HqF9pg4M.min.js";import"./set-Dt5k9sTt.min.js";import"./_toKey-BxB36GnB.min.js";import"./get-DBhW7rda.min.js";const d=new BroadcastChannel("windpress");(function(){const a=window.XMLHttpRequest;function o(){const t=new a;if(!p("module.generate-cache.on-save",!0).value)return t;const s=t.open;return t.open=function(r,i){if(r==="POST"&&i.includes("admin-ajax.php")){const n=t.onreadystatechange;t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){const e=JSON.parse(t.responseText);e.data&&e.data.action&&e.data.action==="bricks_save_post"&&d.postMessage({task:"generate-cache",source:"windpress/integration",target:"windpress/compiler",data:{kind:"incremental",incremental:{providers:["bricks"]}}})}n&&n.apply(this,arguments)}}s.apply(this,arguments)},t}window.XMLHttpRequest=o})(),c("Module loaded!",{module:"generate-cache"});
