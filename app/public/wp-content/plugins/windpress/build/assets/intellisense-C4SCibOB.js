import{g as J}from"./index-C5HG4pYD.min.js";import{r as K}from"./index-BkiRcEwW.min.js";const g=48,m=57;function N(e,t){let r=e.length,n=t.length,l=r<n?r:n;for(let a=0;a<l;a++){let o=e.charCodeAt(a),i=t.charCodeAt(a);if(o>=g&&o<=m&&i>=g&&i<=m){let s=a,u=a+1,d=a,c=a+1;for(o=e.charCodeAt(u);o>=g&&o<=m;)o=e.charCodeAt(++u);for(i=t.charCodeAt(c);i>=g&&i<=m;)i=t.charCodeAt(++c);let f=e.slice(s,u),h=t.slice(d,c),p=Number(f)-Number(h);if(p)return p;if(f<h)return-1;if(f>h)return 1;continue}if(o!==i)return o-i}return e.length-t.length}class y extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t,this),this.set(t,r)),r}}const W=92,P=123,I=125,Q=40,T=41,X=91,S=93,Y=34,Z=39,k=new Uint8Array(256);function ee(e,t){let r=0,n=[],l=0,a=e.length,o=t.charCodeAt(0);for(let i=0;i<a;i++){let s=e.charCodeAt(i);if(r===0&&s===o){n.push(e.slice(l,i)),l=i+1;continue}switch(s){case W:i+=1;break;case Z:case Y:for(;++i<a;){let u=e.charCodeAt(i);if(u===W){i+=1;continue}if(u===s)break}break;case Q:k[r]=T,r++;break;case X:k[r]=S,r++;break;case P:k[r]=I,r++;break;case S:case I:case T:r>0&&s===k[r-1]&&r--;break}}return n.push(e.slice(l)),n}function A(e){return{kind:"word",value:e}}function te(e,t){return{kind:"function",value:e,nodes:t}}function re(e){return{kind:"separator",value:e}}function w(e,t,r=null){for(let n=0;n<e.length;n++){let l=e[n],a=!1,o=0,i=t(l,{parent:r,replaceWith(s){a||(a=!0,Array.isArray(s)?s.length===0?(e.splice(n,1),o=0):s.length===1?(e[n]=s[0],o=1):(e.splice(n,1,...s),o=s.length):e[n]=s)}})??0;if(a){i===0?n--:n+=o-1;continue}if(i===2||i!==1&&l.kind==="function"&&w(l.nodes,t,l)===2)return 2}}function b(e){let t="";for(const r of e)switch(r.kind){case"word":case"separator":{t+=r.value;break}case"function":t+=r.value+"("+b(r.nodes)+")"}return t}const _=92,ne=41,j=58,O=44,ae=34,M=61,R=62,V=60,q=10,le=40,oe=39,F=47,L=32,U=9;function C(e){e=e.replaceAll(`\r
`,`
`);let t=[],r=[],n=null,l="",a;for(let o=0;o<e.length;o++){let i=e.charCodeAt(o);switch(i){case _:{l+=e[o]+e[o+1],o++;break}case j:case O:case M:case R:case V:case q:case F:case L:case U:{if(l.length>0){let c=A(l);n?n.nodes.push(c):t.push(c),l=""}let s=o,u=o+1;for(;u<e.length&&(a=e.charCodeAt(u),!(a!==j&&a!==O&&a!==M&&a!==R&&a!==V&&a!==q&&a!==F&&a!==L&&a!==U));u++);o=u-1;let d=re(e.slice(s,u));n?n.nodes.push(d):t.push(d);break}case oe:case ae:{let s=o;for(let u=o+1;u<e.length;u++)if(a=e.charCodeAt(u),a===_)u+=1;else if(a===i){o=u;break}l+=e.slice(s,o+1);break}case le:{let s=te(l,[]);l="",n?n.nodes.push(s):t.push(s),r.push(s),n=s;break}case ne:{let s=r.pop();if(l.length>0){let u=A(l);s==null||s.nodes.push(u),l=""}r.length>0?n=r[r.length-1]:n=null;break}default:l+=String.fromCharCode(i)}}return l.length>0&&t.push(A(l)),t}function ie(e,t){if(t===null)return e;let r=Number(t);return Number.isNaN(r)||(t=`${r*100}%`),t==="100%"?e:`color-mix(in oklab, ${e} ${t}, transparent)`}const se={"--alpha":ue,"--spacing":ce,"--theme":fe,theme:he};function ue(e,t,r,...n){let[l,a]=ee(r,"/").map(o=>o.trim());if(!l||!a)throw new Error(`The --alpha(\u2026) function requires a color and an alpha value, e.g.: \`--alpha(${l||"var(--my-color)"} / ${a||"50%"})\``);if(n.length>0)throw new Error(`The --alpha(\u2026) function only accepts one argument, e.g.: \`--alpha(${l||"var(--my-color)"} / ${a||"50%"})\``);return ie(l,a)}function ce(e,t,r,...n){if(!r)throw new Error("The --spacing(\u2026) function requires an argument, but received none.");if(n.length>0)throw new Error(`The --spacing(\u2026) function only accepts a single argument, but received ${n.length+1}.`);let l=e.theme.resolve(null,["--spacing"]);if(!l)throw new Error("The --spacing(\u2026) function requires that the `--spacing` theme variable exists, but it was not found.");return`calc(${l} * ${r})`}function fe(e,t,r,...n){if(!r.startsWith("--"))throw new Error("The --theme(\u2026) function can only be used with CSS variables from your theme.");let l=!1;r.endsWith(" inline")&&(l=!0,r=r.slice(0,-7)),t.kind==="at-rule"&&(l=!0);let a=e.resolveThemeValue(r,l);if(!a){if(n.length>0)return n.join(", ");throw new Error(`Could not resolve value for theme function: \`theme(${r})\`. Consider checking if the variable name is correct or provide a fallback value to silence this error.`)}if(n.length===0)return a;let o=n.join(", ");if(o==="initial")return a;if(a==="initial")return o;if(a.startsWith("var(")||a.startsWith("theme(")||a.startsWith("--theme(")){let i=C(a);return pe(i,o),b(i)}return a}function he(e,t,r,...n){r=de(r);let l=e.resolveThemeValue(r);if(!l&&n.length>0)return n.join(", ");if(!l)throw new Error(`Could not resolve value for theme function: \`theme(${r})\`. Consider checking if the path is correct or provide a fallback value to silence this error.`);return l}new RegExp(Object.keys(se).map(e=>`${e}\\(`).join("|"));function de(e){if(e[0]!=="'"&&e[0]!=='"')return e;let t="",r=e[0];for(let n=1;n<e.length-1;n++){let l=e[n],a=e[n+1];l==="\\"&&(a===r||a==="\\")?(t+=a,n++):t+=l}return t}function pe(e,t){w(e,r=>{if(r.kind==="function"&&!(r.value!=="var"&&r.value!=="theme"&&r.value!=="--theme"))if(r.nodes.length===1)r.nodes.push({kind:"word",value:`, ${t}`});else{let n=r.nodes[r.nodes.length-1];n.kind==="word"&&n.value==="initial"&&(n.value=t)}})}new y(e=>{let t=C(e),r=new Set;return w(t,(n,{parent:l})=>{let a=l===null?t:l.nodes??[];if(n.kind==="word"&&(n.value==="+"||n.value==="-"||n.value==="*"||n.value==="/")){let o=a.indexOf(n)??-1;if(o===-1)return;let i=a[o-1];if((i==null?void 0:i.kind)!=="separator"||i.value!==" ")return;let s=a[o+1];if((s==null?void 0:s.kind)!=="separator"||s.value!==" ")return;r.add(i),r.add(s)}else n.kind==="separator"&&n.value.trim()==="/"?n.value="/":n.kind==="separator"&&n.value.length>0&&n.value.trim()===""?(a[0]===n||a[a.length-1]===n)&&r.add(n):n.kind==="separator"&&n.value.trim()===","&&(n.value=",")}),r.size>0&&w(t,(n,{replaceWith:l})=>{r.has(n)&&(r.delete(n),l([]))}),$(t),b(t)}),new y(e=>{let t=C(e);return t.length===3&&t[0].kind==="word"&&t[0].value==="&"&&t[1].kind==="separator"&&t[1].value===":"&&t[2].kind==="function"&&t[2].value==="is"?b(t[2].nodes):e});function $(e){for(let t of e)switch(t.kind){case"function":{if(t.value==="url"||t.value.endsWith("_url")){t.value=v(t.value);break}if(t.value==="var"||t.value.endsWith("_var")||t.value==="theme"||t.value.endsWith("_theme")){t.value=v(t.value);for(let r=0;r<t.nodes.length;r++)$([t.nodes[r]]);break}t.value=v(t.value),$(t.nodes);break}case"separator":t.value=v(t.value);break;case"word":{(t.value[0]!=="-"||t.value[1]!=="-")&&(t.value=v(t.value));break}default:ve(t)}}new y(e=>{let t=C(e);return t.length===1&&t[0].kind==="function"&&t[0].value==="var"});function ve(e){throw new Error(`Unexpected value: ${e}`)}function v(e){return e.replaceAll("_",String.raw`\_`).replaceAll(" ","_")}var x=(e=>(e[e.None=0]="None",e[e.RespectImportant=1]="RespectImportant",e))(x||{});function ge(e,t,{onInvalidCandidate:r,respectImportant:n}={}){let l=new Map,a=[],o=new Map;for(let u of e){if(t.invalidCandidates.has(u)){r==null||r(u);continue}let d=t.parseCandidate(u);if(d.length===0){r==null||r(u);continue}o.set(u,d)}let i=x.None;(n??!0)&&(i|=x.RespectImportant);let s=t.getVariantOrder();for(let[u,d]of o){let c=!1;for(let f of d){let h=t.compileAstNodes(f,i);if(h.length!==0){c=!0;for(let{node:p,propertySort:G}of h){let E=0n;for(let H of f.variants)E|=1n<<BigInt(s.get(H));l.set(p,{properties:G,variants:E,candidate:u}),a.push(p)}}}c||(r==null||r(u))}return a.sort((u,d)=>{let c=l.get(u),f=l.get(d);if(c.variants-f.variants!==0n)return Number(c.variants-f.variants);let h=0;for(;h<c.properties.order.length&&h<f.properties.order.length&&c.properties.order[h]===f.properties.order[h];)h+=1;return(c.properties.order[h]??1/0)-(f.properties.order[h]??1/0)||f.properties.count-c.properties.count||N(c.candidate,f.candidate)}),{astNodes:a,nodeSorting:l}}var me=K();const z=J(me);function ke(e){return e.getClassList().map(t=>({kind:"utility",selector:t[0]}))}function we(e){return e.getVariants().map(t=>({kind:"variant",selector:t.name}))}function be(){return[{kind:"utility",selector:"flex"}]}function Ce(e){return e.sort(([,t],[,r])=>t===r?0:t===null?-1:r===null?1:B(t-r)).map(([t])=>t)}function B(e){return e>0n?1:e===0n?0:-1}async function ye(e){return Array.from(e.theme.entries()).map((t,r)=>{const n=t[0];let l=!1,a=null;const o=t[1].value;return typeof o=="string"&&o.includes("rem")&&(a=`${parseFloat(o)*16}px`,l=!0),{key:n,value:l?a:o,index:r}})}async function Ae(e,t){return Ce(e.getClassOrder(t))}function D(e,t){if(!(e!=null&&e.includes("rem")))return e;const r=[];z(e).walk(l=>{if(l.type!=="word")return!0;const a=z.unit(l.value);if(!a||a.unit!=="rem"&&a.unit!=="rem;")return!1;const o=` /* ${parseFloat(a.number)*t}px */`;return r.push({content:o,sourceEndIndex:l.sourceEndIndex}),!1});let n=0;return r.forEach(l=>{e=e.slice(0,l.sourceEndIndex+n)+l.content+e.slice(l.sourceEndIndex+n),n+=l.content.length}),e}async function $e(e,t){let r=e.candidatesToCss(t);return r=r.map(n=>n&&D(n,16)),r}function xe(e){const t=ke(e).concat(we(e).concat(be())),r=a=>a.selector!=="*",n=a=>{const o=ge([a.selector],e).astNodes.flatMap(s=>"nodes"in s?s.nodes:[]);let i=e.candidatesToCss([a.selector]).at(0);return i&&(i=i.replaceAll(/([0-9.]+)rem/g,(s,u)=>`${parseFloat(u)*16}px`)),i=i==null?void 0:i.replaceAll(/\\/g,""),{...a,declarations:o==null?void 0:o.filter(s=>s.kind==="declaration"),css:i}},l=(a,o)=>a.selector.startsWith("-")&&!o.selector.startsWith("-")?1:!a.selector.startsWith("-")&&o.selector.startsWith("-")?-1:N(a.selector,o.selector);return t.filter(r).map(n).sort(l)}function Ee(e,t){return("0".repeat(8)+e).slice(-8)}export{xe as a,B as b,$e as c,D as d,ye as g,Ee as n,Ae as s};
